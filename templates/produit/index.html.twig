
{% extends 'base.html.twig' %}


       {%  block content %}

       <div id="main-content">
            <div class="container-fluid">

                <div class="block-header py-lg-4 py-3">
                    <div class="row g-3">
                        <div class="col-md-6 col-sm-12">
                            <h2 class="m-0 fs-5"><a href="javascript:void(0);" class="btn btn-sm btn-link ps-0 btn-toggle-fullwidth"><i class="fa fa-arrow-left"></i></a> Liste des produits</h2>
                            
                        </div>
                        
                        </div>
                    </div>
                </div>

                <div>

                <div class="blog-asside-right pr0">
                        <div class="panel panel-default sidebar-menu wow fadeInRight animated animated" style="visibility: visible;">
                            <div class="panel-heading">
                                <h5 class="panel-title">Recherche</h5>
                            </div>
                            <div class="panel-body search-widget">
                                <form action="/produit/rech1" method="get" class=" form-inline"> 
                                    <fieldset>
                                        <div class="row">
                                            <div class="col-xs-12">
                                                <input type="text" name="q" class="form-control" placeholder="Key word">
                                            </div>
                                        </div>
                                    </fieldset>


                                                     

                                  



                                    


                                    <fieldset>
                                        <div class="row">
                                            <div class="col-xs-12">  
                                                <input class="button btn largesearch-btn" style="background-color: #FDC600; font-size: 16px;    border: 1px solid #EAE9E9;   width: 100%;   height: 40px;  color: #FFF;   transition: all 0.3s ease 0s; margin-top: 15px;
}" value="Search" type="submit">

                                            </div>  
                                        </div>
                                    </fieldset>                                     
                                </form>
   
                            </div>
                        </div>

                    
                    </div>
                </div>
                

 

                    <div >
                        <div class="section clear"> 
                            <div class="col-xs-10 page-subheader sorting pl0">
                                <ul class="sort-by-list">
                             
                                </ul>
                                
                            </div>
                      

                <div class="row g-2 clearfix">

                {% for  p in produits %}
                    <div class="col-lg-3 col-md-6 col-sm-12">
                        <div class="card">
                            <div class="card-body text-center">
                                <img src="{{ asset('uploads/produits/' ~ p.imgP) }}" alt="{{ p.imgP }}" height="120" width="120">
                                <h5> {{p.nomP}} </h5>
                                <small>{{p.descriptionP}}</small>
                                <h6> {{p.prixP }}DT</h6>
                                
                                
                                <div class="mt-3">
                                <a href="{{ path ('produit_update', {'id': p.id}) }}">
                                     <button class="btn btn-sm btn-primary">Modifier</button>
                                    </a>
                                    <a href="{{ path ('remove_produit', {'id': p.id}) }}">
                                    <button class="btn btn-sm btn-success">Supprimer</button>
                                    </a>
                                    
                                </div>
                                
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                    
                </div>
            </div>
        </div>


        <div  style="margin-left: 526px;" >
        <style>
 .pagination {
    height: 40px;
    margin: 20px 10px;
}

.pagination ul {
    display: inline-block;
    *display: inline;
    margin-bottom: 0;
    margin-left: 0;
    -webkit-border-radius: 3px;
    -moz-border-radius: 3px;
    border-radius: 3px;
    *zoom: 1;
    -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
    -moz-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
    padding: 0px;
}

.pagination li {
    display: inline;
}

.pagination a,
.pagination span {
    float: left;
    padding: 0 14px;
    line-height: 38px;
    text-decoration: none;
    background-color: #ffffff;
    border: 1px solid #dddddd;
    border-left-width: 0;
}

.pagination a:hover,
.pagination .active a,
.pagination .active span {
    background-color: #f5f5f5;
}

.pagination .active a,
.pagination .active span {
    color: #999999;
    cursor: default;
}

.pagination .disabled span,
.pagination .disabled a,
.pagination .disabled a:hover {
    color: #999999;
    cursor: default;
    background-color: transparent;
}

.pagination li:first-child a,
.pagination li:first-child span {
    border-left-width: 1px;
    -webkit-border-radius: 3px 0 0 3px;
    -moz-border-radius: 3px 0 0 3px;
    border-radius: 3px 0 0 3px;
}

.pagination li:last-child a,
.pagination li:last-child span {
    -webkit-border-radius: 0 3px 3px 0;
    -moz-border-radius: 0 3px 3px 0;
    border-radius: 0 3px 3px 0;
}

.pagination-centered {
    text-align: center;
}

.pagination-right {
    text-align: right;
}
 </style>
                                 {{ knp_pagination_render(produits) }} 
                    
                                     </div>
                        </div>

                        
               <script>
               function confirmRemoveItem(itemId) {
    Swal.fire({
        title: 'Vous étes Sure?',
        text: 'Vous ne pourrez pas récupérer cet article!',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'oui, supprimer!'
    }).then((result) => {
        if (result.isConfirmed) {
            window.location.href = '/annonce/remove/' + itemId;
        }
    });
}
               </script>  
        
{% endblock %}